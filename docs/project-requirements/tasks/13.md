# Task 13: Implement accessibility features for keyboard navigation and screen readers

**Dependencies:** Tasks 8, 9, 10, 11

### Goal
Ensure the application is fully accessible with keyboard navigation, screen reader support, and WCAG AA compliance.

### Implementation Context
**Files to Modify:**
- All page components (CreateQuotePage, NegotiationPage, PastNegotiationsPage)
- All interactive UI components
- `src/shared/components/ui/*` (enhance existing components)

**Key Requirements:**
- Keyboard navigation for all interactive elements (Tab, Enter, Escape)
- Screen reader labels for accordion sections, buttons, form inputs
- Focus indicators on all focusable elements
- ARIA live regions for real-time message updates
- Color contrast meets WCAG AA standards (4.5:1 for text, 3:1 for UI components)
- Skip to main content link

**Technical Notes:**
- Use semantic HTML elements (button, nav, main, section)
- Add aria-label, aria-labelledby, aria-describedby attributes
- Use aria-live="polite" for message updates
- Ensure focus management (trap focus in modals, restore after close)
- Test with keyboard only (no mouse)
- Test with screen reader (NVDA, JAWS, or VoiceOver)
- Use existing shadcn/ui accessibility features (already ARIA-compliant)

**Simplicity Decisions:**
- Focus on essential WCAG AA compliance (not AAA)
- Use browser default focus indicators enhanced with CSS
- Simple skip link instead of complex navigation shortcuts

### Scope Definition
**Deliverables:**
- Keyboard navigation support for all interactive elements
- Screen reader labels for all components
- Focus indicators with visible outline
- ARIA live regions for dynamic content
- Color contrast verification and fixes
- Skip to main content link
- Accessibility testing checklist

**Exclusions:**
- WCAG AAA compliance (out of scope)
- Custom screen reader announcements (beyond ARIA live)
- Advanced keyboard shortcuts (out of scope)

### Implementation Steps
1. Add skip to main content link at top of App.tsx: `<a href="#main" className="sr-only focus:not-sr-only">Skip to main content</a>`
2. Add id="main" to main content area in each page
3. Audit all interactive elements: ensure they are keyboard accessible (Tab, Enter, Space)
4. Add aria-label to accordion sections: "Supplier 1 negotiation", "Supplier 2 negotiation", "Supplier 3 negotiation"
5. Add aria-label to intervention inputs: "Send message to brand agent"
6. Add aria-live="polite" region around message lists for real-time updates
7. Ensure form inputs have associated labels (use htmlFor and id)
8. Add visible focus indicators: enhance default outline with custom CSS (2px solid, high contrast color)
9. Verify color contrast using browser DevTools or online checker
10. Fix any contrast issues: adjust text colors, button colors, border colors
11. Test keyboard navigation: Tab through all elements, Enter to activate, Escape to close
12. Test with screen reader: verify all elements are announced correctly
13. Create accessibility testing checklist document
14. **Test: Keyboard navigation works throughout app**
   - **Setup:** Load CreateQuotePage
   - **Action:** Navigate using Tab key only
   - **Expect:** All inputs, sliders, buttons focusable and operable with keyboard
15. **Test: Screen reader announces message updates**
   - **Setup:** Active negotiation with screen reader enabled
   - **Action:** New message arrives
   - **Expect:** Screen reader announces new message content

### Success Criteria
- All interactive elements keyboard accessible
- Screen reader announces all content correctly
- Focus indicators visible on all focusable elements
- ARIA live regions announce dynamic updates
- Color contrast meets WCAG AA standards
- Skip link allows bypassing navigation
- Accessibility testing checklist completed
- No accessibility errors in automated tools (axe, Lighthouse)

### Scope Constraint
Implement only WCAG AA compliance features. Do not implement advanced accessibility features beyond requirements.